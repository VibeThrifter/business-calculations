<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resale Business Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .subtitle {
            opacity: 0.9;
            font-size: 16px;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
        }

        .panel h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 22px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #495057;
            font-weight: 500;
            font-size: 14px;
        }

        input[type="number"], input[type="range"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }

        input[type="range"] {
            padding: 0;
            height: 8px;
            background: #e9ecef;
            border: none;
            border-radius: 4px;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            background: #667eea;
            cursor: pointer;
            border-radius: 50%;
        }

        .range-value {
            display: inline-block;
            margin-left: 10px;
            font-weight: bold;
            color: #667eea;
        }

        .results {
            grid-column: 1 / -1;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .kpi-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }

        .kpi-label {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .kpi-value {
            font-size: 28px;
            font-weight: bold;
            color: #667eea;
        }

        .kpi-unit {
            font-size: 14px;
            color: #6c757d;
            margin-top: 5px;
        }

        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }

        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }

        .breakdown {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 18px;
            padding-top: 15px;
        }

        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Resale Business Calculator</h1>
            <p class="subtitle">Muziekspullen doorverkoop optimalisatie</p>
        </div>

        <div class="content">
            <div class="panel">
                <h2>Prijzen & Kosten</h2>

                <div class="input-group">
                    <label for="inkoopprijs">Gemiddelde inkoopprijs (€)</label>
                    <input type="number" id="inkoopprijs" value="275" min="0" step="10">
                </div>

                <div class="input-group">
                    <label for="verkoopprijs">Gemiddelde verkoopprijs (€)</label>
                    <input type="number" id="verkoopprijs" value="400" min="0" step="10">
                </div>

                <div class="input-group">
                    <label for="verzendkosten">Verzendkosten per product (€)</label>
                    <input type="number" id="verzendkosten" value="10" min="0" step="1">
                </div>

                <div class="input-group">
                    <label for="platformFee">Platform fee (%)</label>
                    <input type="number" id="platformFee" value="10" min="0" max="100" step="0.5">
                </div>

                <div class="input-group">
                    <label for="btwPercentage">BTW op winst (%)</label>
                    <input type="number" id="btwPercentage" value="21" min="0" max="100" step="1">
                </div>
            </div>

            <div class="panel">
                <h2>Volume & Tijd</h2>

                <div class="input-group">
                    <label for="productPerMaand">Producten per maand</label>
                    <input type="number" id="productPerMaand" value="44" min="1" step="1">
                </div>

                <div class="input-group">
                    <label for="gemiddeldeTijd">Gemiddelde tijd tussen koop en verkoop (dagen)</label>
                    <input type="number" id="gemiddeldeTijd" value="30" min="1" step="1">
                </div>

                <div class="input-group">
                    <label for="urenPerProduct">Uren per product (inkoop, foto's, listing, communicatie, verzending)</label>
                    <input type="number" id="urenPerProduct" value="2" min="0" step="0.1">
                </div>
            </div>

            <div class="panel results">
                <h2>Resultaten & KPI's</h2>

                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-label">Marge Percentage</div>
                        <div class="kpi-value" id="margePercentage">0%</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">Winst per Product (ex BTW)</div>
                        <div class="kpi-value" id="nettoWinstProduct">€0</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">Maandelijkse Omzet</div>
                        <div class="kpi-value" id="maandelijkseOmzet">€0</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">Maandelijkse Winst (ex BTW)</div>
                        <div class="kpi-value" id="maandelijkseWinst">€0</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">Benodigd Kapitaal in Omloop</div>
                        <div class="kpi-value" id="kapitaalOmloop">€0</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">ROI per Maand</div>
                        <div class="kpi-value" id="roiMaand">0%</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">Uren per Week</div>
                        <div class="kpi-value" id="urenPerWeek">0</div>
                        <div class="kpi-unit">uur</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">Uurloon (ex BTW)</div>
                        <div class="kpi-value" id="uurloon">€0</div>
                    </div>
                </div>

                <div class="breakdown">
                    <h3 style="margin-bottom: 15px; color: #667eea;">Kosten Breakdown per Product</h3>
                    <div class="breakdown-item">
                        <span>Inkoopprijs</span>
                        <span id="breakdownInkoop">€0</span>
                    </div>
                    <div class="breakdown-item">
                        <span>Verzendkosten</span>
                        <span id="breakdownVerzend">€0</span>
                    </div>
                    <div class="breakdown-item">
                        <span>Platform fee (op verkoopprijs)</span>
                        <span id="breakdownPlatform">€0</span>
                    </div>
                    <div class="breakdown-item">
                        <span>Bruto winst</span>
                        <span id="breakdownBruto">€0</span>
                    </div>
                    <div class="breakdown-item">
                        <span>BTW (op winst)</span>
                        <span id="breakdownBtw">€0</span>
                    </div>
                    <div class="breakdown-item">
                        <span>Winst (ex BTW)</span>
                        <span id="breakdownNetto">€0</span>
                    </div>
                </div>

                <div id="statusMessage"></div>
            </div>
        </div>
    </div>

    <script>
        function calculateAll() {
            // Haal alle input waardes op
            const productPerMaand = parseFloat(document.getElementById('productPerMaand').value) || 0;
            const inkoopprijs = parseFloat(document.getElementById('inkoopprijs').value) || 0;
            const verkoopprijs = parseFloat(document.getElementById('verkoopprijs').value) || 0;
            const verzendkosten = parseFloat(document.getElementById('verzendkosten').value) || 0;
            const platformFee = parseFloat(document.getElementById('platformFee').value) || 0;
            const btwPercentage = parseFloat(document.getElementById('btwPercentage').value) || 0;
            const gemiddeldeTijd = parseFloat(document.getElementById('gemiddeldeTijd').value) || 1;
            const urenPerProduct = parseFloat(document.getElementById('urenPerProduct').value) || 0;

            // Bereken per product
            const totaleInkoopKosten = inkoopprijs + verzendkosten;
            const platformFeeAmount = verkoopprijs * (platformFee / 100);
            const brutoWinst = verkoopprijs - totaleInkoopKosten - platformFeeAmount;
            const btwAmount = brutoWinst > 0 ? brutoWinst * (btwPercentage / 100) : 0;
            const nettoWinstPerProduct = brutoWinst - btwAmount;

            // Bereken marge percentage (simpele marge: (verkoop - inkoop) / inkoop)
            const margePercentage = inkoopprijs > 0 ? ((verkoopprijs - inkoopprijs) / inkoopprijs) * 100 : 0;

            // Bereken maandelijkse cijfers
            const maandelijkseOmzet = verkoopprijs * productPerMaand;
            const maandelijkseNettoWinst = nettoWinstPerProduct * productPerMaand;

            // Bereken benodigd kapitaal in omloop
            // Aantal producten dat tegelijk in omloop is = (gemiddelde tijd / 30 dagen) * producten per maand
            const productenInOmloop = (gemiddeldeTijd / 30) * productPerMaand;
            const kapitaalInOmloop = productenInOmloop * totaleInkoopKosten;

            // Bereken ROI per maand
            const roiMaand = kapitaalInOmloop > 0 ? (maandelijkseNettoWinst / kapitaalInOmloop) * 100 : 0;

            // Bereken tijdsbesteding
            const totaleUrenPerMaand = urenPerProduct * productPerMaand;
            const urenPerWeek = (totaleUrenPerMaand / 30) * 7;
            const uurloon = totaleUrenPerMaand > 0 ? maandelijkseNettoWinst / totaleUrenPerMaand : 0;

            // Update de UI
            document.getElementById('margePercentage').textContent = margePercentage.toFixed(1) + '%';
            document.getElementById('nettoWinstProduct').textContent = '€' + nettoWinstPerProduct.toFixed(2);
            document.getElementById('maandelijkseOmzet').textContent = '€' + maandelijkseOmzet.toFixed(2);
            document.getElementById('maandelijkseWinst').textContent = '€' + maandelijkseNettoWinst.toFixed(2);
            document.getElementById('kapitaalOmloop').textContent = '€' + kapitaalInOmloop.toFixed(2);
            document.getElementById('roiMaand').textContent = roiMaand.toFixed(1) + '%';
            document.getElementById('urenPerWeek').textContent = urenPerWeek.toFixed(1);
            document.getElementById('uurloon').textContent = '€' + uurloon.toFixed(2);

            // Breakdown
            document.getElementById('breakdownInkoop').textContent = '€' + inkoopprijs.toFixed(2);
            document.getElementById('breakdownVerzend').textContent = '€' + verzendkosten.toFixed(2);
            document.getElementById('breakdownPlatform').textContent = '€' + platformFeeAmount.toFixed(2);
            document.getElementById('breakdownBruto').textContent = '€' + brutoWinst.toFixed(2);
            document.getElementById('breakdownBtw').textContent = '€' + btwAmount.toFixed(2);
            document.getElementById('breakdownNetto').textContent = '€' + nettoWinstPerProduct.toFixed(2);

            // Status bericht
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.innerHTML = '';

            // Extra insights
            const aantalOmlopenPerMaand = 30 / gemiddeldeTijd;
            statusDiv.innerHTML = `<div class="success">
                <strong>Efficiency:</strong> Met een gemiddelde verkoopduur van ${gemiddeldeTijd} dagen,
                draait je kapitaal ${aantalOmlopenPerMaand.toFixed(1)}x per maand om.
                Je hebt €${kapitaalInOmloop.toFixed(2)} nodig om ${productPerMaand} producten per maand te verkopen.
            </div>`;
        }

        // Event listeners voor alle inputs
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', calculateAll);
        });

        // Initiële berekening
        calculateAll();
    </script>
</body>
</html>